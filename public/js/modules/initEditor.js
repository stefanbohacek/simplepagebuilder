import tourGuide from"./tour.js";export default()=>{const e=grapesjs.init({container:"#gjs",plugins:["grapesjs-preset-webpage","gjs-blocks-basic","grapesjs-plugin-header","grapesjs-custom-code","grapesjs-plugin-export","grapesjs-touch"],autorender:!1,pluginsOpts:{"gjs-blocks-basic":{},"grapesjs-preset-webpage":{textCleanCanvas:"Are you sure you want to remove everything?"},"grapesjs-plugin-header":{},"grapesjs-custom-code":{},"grapesjs-plugin-export":{filenamePfx:"my-personal-site",root:{files:{"index.html":e=>html_beautify(`\n                <!DOCTYPE html>\n                  <html lang="en">\n                    <head>\n                      <meta charset="UTF-8">\n                      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                      <title>My personal site</title>\n                      <link href="./css/style.css" rel="stylesheet">\n                    </head>\n                    ${e.getHtml()}\n                </html>          \n                `),css:{"style.css":e=>e.getCss()},"README.md":"Made with https://simplepagebuilder.app/"}}},"grapesjs-touch":{}}});[["views","open-layers"],["options","sw-visibility"],["options","fullscreen"],["options","gjs-open-import-webpage"]].forEach((t=>{const s=e.Panels.getButton(t[0],t[1]);s.collection.remove(s)}));const t=e.getConfig().stylePrefix,s=e.Modal,n=e.Commands,o=e.CodeManager.getViewer("CodeMirror").clone(),a=e.CodeManager.getViewer("CodeMirror").clone(),i=e.Panels,r=document.createElement("div"),l=document.createElement("button");o.set({codeName:"htmlmixed",readOnly:0,theme:"hopscotch",autoBeautify:!0,autoCloseTags:!0,autoCloseBrackets:!0,lineWrapping:!0,styleActiveLine:!0,smartIndent:!0,indentWithTabs:!0}),a.set({codeName:"css",readOnly:0,theme:"hopscotch",autoBeautify:!0,autoCloseTags:!0,autoCloseBrackets:!0,lineWrapping:!0,styleActiveLine:!0,smartIndent:!0,indentWithTabs:!0}),l.innerHTML="Save",l.className=t+"btn-prim "+t+"btn-import",l.onclick=()=>{const t=o.editor.getValue(),n=a.editor.getValue();e.DomComponents.getWrapper().set("content",""),e.setComponents(t.trim()),e.setStyle(n),s.close()},n.add("edit-code",{run:(e,t)=>{t&&t.set("active",0);let n=o.editor,i=a.editor;if(s.setTitle("Edit code"),!n&&!i){const e=document.createElement("textarea"),t=document.createElement("textarea");r.appendChild(e),r.appendChild(t),r.appendChild(l),o.init(e),a.init(t),n=o.editor,i=a.editor}const d=e.getHtml(),c=e.getCss();s.setContent(""),s.setContent(r),o.setContent(d),a.setContent(c),s.open(),n.refresh(),i.refresh()}}),i.addButton("options",[{id:"edit",className:"fa fa-edit",command:"edit-code",attributes:{title:"Edit Code"}}]),e.Panels.addButton("options",[{id:"save",className:"fa fa-question icon-blank",command:(e,t)=>{document.documentElement.style.overflow="hidden",tourGuide.start()},attributes:{title:"Help"}}]),e.on("load",(()=>{e.Panels.getButton("views","open-blocks").set("active",!0)})),e.render()};//# sourceMappingURL=initEditor.js.map
